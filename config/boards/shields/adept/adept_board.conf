# ============================================================================
# ZMK Configuration for Ploopy Adept BLE Trackball - Board Specific
# ============================================================================

# ----------------------------------------------------------------------------
# Bluetooth Configuration
# ----------------------------------------------------------------------------

# CONFIG_BT_PERIPHERAL_PREF_MAX_INT=9
# CONFIG_BT_PERIPHERAL_PREF_LATENCY=16
CONFIG_BT_GATT_ENFORCE_SUBSCRIPTION=n
CONFIG_ZMK_KSCAN_DEBOUNCE_PRESS_MS=8
CONFIG_ZMK_KSCAN_DEBOUNCE_RELEASE_MS=8
# CONFIG_ZMK_SPLIT_BLE_CENTRAL_BATTERY_LEVEL_PROXY=y
# CONFIG_ZMK_SPLIT_BLE_CENTRAL_BATTERY_LEVEL_FETCHING=y
CONFIG_BT_BAS=y
CONFIG_ZMK_BATTERY_REPORTING=y

# ----------------------------------------------------------------------------
# Hardware Configuration
# ----------------------------------------------------------------------------

CONFIG_SPI=y
CONFIG_INPUT=y
CONFIG_PMW3610=y
CONFIG_PMW3610_SMART_ALGORITHM=y
CONFIG_ZMK_EXT_POWER=y

# ----------------------------------------------------------------------------
# PMW3610 Sensor Configuration
# ----------------------------------------------------------------------------

CONFIG_ZMK_BLE_MOUSE_REPORT_QUEUE_SIZE=1
CONFIG_PMW3610_INIT_POWER_UP_EXTRA_DELAY_MS=50
CONFIG_PMW3610_REPORT_INTERVAL_MIN=4
CONFIG_PMW3610_REST1_SAMPLE_TIME_MS=20
CONFIG_PMW3610_REST2_SAMPLE_TIME_MS=200
CONFIG_PMW3610_REST3_SAMPLE_TIME_MS=300
CONFIG_PMW3610_RUN_DOWNSHIFT_TIME_MS=500
CONFIG_PMW3610_REST1_DOWNSHIFT_TIME_MS=3000
CONFIG_PMW3610_REST2_DOWNSHIFT_TIME_MS=30000

# ----------------------------------------------------------------------------
# Power Management
# ----------------------------------------------------------------------------

CONFIG_ZMK_SLEEP=n
CONFIG_ZMK_IDLE_SLEEP_TIMEOUT=3600000

# ----------------------------------------------------------------------------
# Pointer Acceleration
# ----------------------------------------------------------------------------

# CONFIG_ZMK_INPUT_PROCESSOR_ACCELERATION=y
# CONFIG_INPUT_PROCESSOR_ACCEL_LEVEL_SIMPLE=y
# CONFIG_INPUT_PROCESSOR_ACCEL_LEVEL_STANDARD=y
# CONFIG_INPUT_PROCESSOR_ACCEL_PRESET_GAMING_LASER=y
# CONFIG_INPUT_PROCESSOR_ACCEL_PRESET_OFFICE_OPTICAL=y
# CONFIG_INPUT_PROCESSOR_ACCEL_PRESET_HIGH_SENS_TRACKBALL=y
# CONFIG_INPUT_PROCESSOR_ACCEL_PRESET_CUSTOM=y

# ----------------------------------------------------------------------------
# PMW3610 Debug Settings
# ----------------------------------------------------------------------------

# CONFIG_PMW3610_SQUAL_LOG=y
# CONFIG_PMW3610_SQUAL_LOG_INTERVAL=250
CONFIG_PMW3610_IGNORE_FIRST_N=12
CONFIG_PMW3610_IGNORE_AFTER_REST=y

# ----------------------------------------------------------------------------
# RGB LED Widget
# ----------------------------------------------------------------------------

CONFIG_RGBLED_WIDGET=y
CONFIG_RGBLED_WIDGET_CONN_SHOW_USB=y
CONFIG_RGBLED_WIDGET_BATTERY_SHOW_SELF=n

# ----------------------------------------------------------------------------
# Debug Logging
# ----------------------------------------------------------------------------

CONFIG_LOG=y
CONFIG_ZMK_LOG_LEVEL_DBG=y
CONFIG_ZMK_USB_LOGGING=y
CONFIG_LOG_MAX_LEVEL=4
CONFIG_PMW3610_LOG_LEVEL_DBG=y
CONFIG_SPI_LOG_LEVEL_DBG=y
CONFIG_INPUT_LOG_LEVEL_DBG=y